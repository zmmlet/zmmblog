import{_ as p,r as o,o as c,c as i,a as s,b as n,d as t,e as a}from"./app.b74d2e03.js";const l={},r=a('<h1 id="web-\u6027\u80FD\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#web-\u6027\u80FD\u4F18\u5316" aria-hidden="true">#</a> web \u6027\u80FD\u4F18\u5316</h1><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>HTML\u3001javaScript\u3001CSS\u3001\u56FE\u7247\u7B49\u9759\u6001\u8D44\u6E90\u672C\u8D28\u4E0A\u90FD\u4ECE\u670D\u52A1\u5668\u4E0A\u83B7\u53D6\u3002\u53EF\u670D\u52A1\u5668\u54CD\u5E94\u5BA2\u6237\u7AEF\u8BF7\u6C42\u662F\u9700\u8981\u65F6\u95F4\u7684\uFF0C\u8FD4\u56DE\u7684\u8D44\u6E90\u4F53\u79EF\u8D8A\u5927\uFF0C\u8017\u65F6\u8D8A\u957F\u3002\u6240\u4EE5\u60F3\u8981\u5FEB\uFF0C\u6709\u4E09\u65B9\u9762\u8003\u8651</p></div><h2 id="\u51CF\u5C11\u8D44\u6E90\u4F53\u79EF\u5927\u5C0F" tabindex="-1"><a class="header-anchor" href="#\u51CF\u5C11\u8D44\u6E90\u4F53\u79EF\u5927\u5C0F" aria-hidden="true">#</a> \u51CF\u5C11\u8D44\u6E90\u4F53\u79EF\u5927\u5C0F</h2><h3 id="codesplit" tabindex="-1"><a class="header-anchor" href="#codesplit" aria-hidden="true">#</a> codeSplit</h3>',4),u={href:"https://router.vuejs.org/zh/guide/advanced/lazy-loading.html#%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD",target:"_blank",rel:"noopener noreferrer"},d=s("strong",null,"1\u3001VueRouter \u8DEF\u7531\u6309\u9700\u52A0\u8F7D",-1),k=a(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5C06 \u52A0\u8F7D\u8DEF\u7531\u7EC4\u4EF6\u65B9\u5F0F</span>
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">&#39;@/components/HelloWorld&#39;</span>
<span class="token comment">// \u6539\u4E3A \u8DEF\u7531\u61D2\u52A0\u8F7D\u6A21\u5F0F</span>
<span class="token keyword">const</span> <span class="token function-variable function">HelloWorld</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/components/HelloWorld&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2\u3001\u7EC4\u4EF6\u4E2D\u6309\u9700\u52A0\u8F7D\u5176\u4ED6\u7EC4\u4EF6</strong> \u5C06\u666E\u901A\u8BB0\u8F7D\u65B9\u5F0F</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> vOther <span class="token keyword">from</span> <span class="token string">&#39;@/components/other&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    vOther
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6539\u4E3A\u61D2\u52A0\u8F7D\u6A21\u5F0F</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">vOther</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/components/other&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="tree-shaking" tabindex="-1"><a class="header-anchor" href="#tree-shaking" aria-hidden="true">#</a> Tree Shaking</h3><p>Tree Shaking \u6307\u7684\u662F\u5F15\u5165\u4E00\u4E2A\u6A21\u5757\u7684\u65F6\u5019\uFF0C\u4E0D\u5F15\u5165\u8FD9\u4E2A\u6A21\u5757\u7684\u6240\u6709\u4EE3\u7801\uFF0C\u53EA\u5F15\u5165\u9700\u8981\u7684\u4EE3\u7801\uFF0C\u8FD9\u5C31\u9700\u8981\u501F\u52A9 webpack \u91CC\u9762\u81EA\u5E26\u7684 Tree Shaking \u8FD9\u4E2A\u529F\u80FD\uFF0C\u5E2E\u52A9\u6211\u4EEC\u5B9E\u73B0\u3002Tree Shaking \u53EA\u652F\u6301 ES Module(import....) \u4E0D\u652F\u6301 require....</p><h3 id="\u4F18\u5316-webpack-\u6253\u5305" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316-webpack-\u6253\u5305" aria-hidden="true">#</a> \u4F18\u5316 webpack \u6253\u5305</h3><h3 id="cdn-\u52A0\u8F7D\u8D44\u6E90" tabindex="-1"><a class="header-anchor" href="#cdn-\u52A0\u8F7D\u8D44\u6E90" aria-hidden="true">#</a> CDN \u52A0\u8F7D\u8D44\u6E90</h3><p>\u8F83\u5927\u3001\u8F83\u591A\u7684\u56FE\u7247\u7B49\u8D44\u6E90\u653E CDN\uFF0C\u8FD9\u4E5F\u662F\u53D8\u76F8\u7684\u51CF\u5C0F\u4E86\u5305\u4F53\u79EF\u3002\u4EE3\u7801\u91CC\u76F4\u63A5\u5F15\u7528 CDN \u7684\u94FE\u63A5\uFF0C\u66F4\u6709\u5229\u4E8E\u7A0B\u5E8F\u7684\u52A0\u8F7D\u901F\u5EA6</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>CDN \u7684\u5168\u79F0\u662F Content Delivery Network\uFF0C\u5373\u5185\u5BB9\u5206\u53D1\u7F51\u7EDC\u3002CDN \u662F\u6784\u5EFA\u5728\u73B0\u6709\u7F51\u7EDC\u57FA\u7840\u4E4B\u4E0A\u7684\u667A\u80FD\u865A\u62DF\u7F51\u7EDC\uFF0C\u4F9D\u9760\u90E8\u7F72\u5728\u5404\u5730\u7684\u8FB9\u7F18\u670D\u52A1\u5668\uFF0C\u901A\u8FC7\u4E2D\u5FC3\u5E73\u53F0\u7684\u8D1F\u8F7D\u5747\u8861\u3001\u5185\u5BB9\u5206\u53D1\u3001\u8C03\u5EA6\u7B49\u529F\u80FD\u6A21\u5757\uFF0C\u4F7F\u7528\u6237\u5C31\u8FD1\u83B7\u53D6\u6240\u9700\u5185\u5BB9\uFF0C\u964D\u4F4E\u7F51\u7EDC\u62E5\u585E\uFF0C\u63D0\u9AD8\u7528\u6237\u8BBF\u95EE\u54CD\u5E94\u901F\u5EA6\u548C\u547D\u4E2D\u7387</p></div><h4 id="cdn-\u89E3\u51B3\u7684\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#cdn-\u89E3\u51B3\u7684\u95EE\u9898" aria-hidden="true">#</a> CDN \u89E3\u51B3\u7684\u95EE\u9898</h4><ul><li>\u6253\u5305\u65F6\u95F4\u592A\u957F\u3001\u6253\u5305\u540E\u4EE3\u7801\u4F53\u79EF\u592A\u5927\uFF0C\u8BF7\u6C42\u6162</li><li>\u670D\u52A1\u5668\u7F51\u7EDC\u4E0D\u7A33\u5E26\u5BBD\u4E0D\u9AD8\uFF0C\u4F7F\u7528 cdn \u53EF\u4EE5\u56DE\u907F\u670D\u52A1\u5668\u5E26\u5BBD\u95EE\u9898</li></ul><h4 id="\u4F7F\u7528\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u6B65\u9AA4" aria-hidden="true">#</a> \u4F7F\u7528\u6B65\u9AA4</h4><ol><li>\u5728\u9879\u76EE\u6839\u76EE\u5F55 index.html \u4F7F\u7528 cdn \u8282\u70B9\u5BFC\u5165</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- built files will be auto injected --&gt;</span>
  <span class="token comment">&lt;!--\u5F00\u53D1\u73AF\u5883--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcss.com/vue/2.6.11/vue.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--\u751F\u4EA7\u73AF\u5883--&gt;</span>
  <span class="token comment">&lt;!--&lt;script src=&quot;https://cdn.bootcss.com/vue/2.6.11/vue.min.js&quot;&gt;&lt;/script&gt;--&gt;</span>
  <span class="token comment">&lt;!-- \u5F15\u5165\u7EC4\u4EF6\u5E93 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcss.com/vue-router/3.2.0/vue-router.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcss.com/axios/0.23.0/axios.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcss.com/element-ui/2.15.6/index.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u5728 vue.config.js \u4E2D\u52A0\u5165 externals \u5916\u90E8\u6269\u5C55<div class="custom-container tip"><p class="custom-container-title">TIP</p><p>externals \u914D\u7F6E\u9009\u9879\u7684\u4F5C\u7528\uFF1A\u5F15\u7528\u4E00\u4E2A\u5E93\uFF0C\u4F46\u662F\u53C8\u4E0D\u60F3\u8BA9 webpack \u6253\u5305\uFF0C\u5E76\u4E14\u53C8\u4E0D\u5F71\u54CD\u6211\u4EEC\u5728\u7A0B\u5E8F\u4E2D\u4EE5 CMD\u3001AMD \u6216\u8005 window/global \u5168\u5C40\u7B49\u65B9\u5F0F\u8FDB\u884C\u4F7F\u7528\uFF0C\u90A3\u5C31\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E externals</p></div></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Vue&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;vue-router&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VueRouter&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;axios&quot;</span><span class="token operator">:</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;moment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;moment&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;element-ui&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ELEMENT&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><p>vue-cli 4 \u4F7F\u7528 report \u5206\u6790 vendor.js Vue Cli\uFF08@/vue/cli\uFF09\u81EA\u5E26\u7684 webpack \u5305\u4F53\u79EF\u4F18\u5316\u5DE5\u5177\uFF0C\u5B83\u53EF\u4EE5\u67E5\u770B\u5404\u4E2A\u6A21\u5757\u7684 size \u5927\u5C0F\uFF0C\u65B9\u4FBF\u4F18\u5316\u3002\u53EA\u9700\u8981\u5728 build \u540E\u9762\u52A0\u4E0A --report \u53C2\u6570\u5373\u53EF\u3002</p><ul><li>\u6211\u4EEC\u628A\u547D\u4EE4\u914D\u7F6E\u5230 package.json \u91CC</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service serve&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service build&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;report&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service build --report&quot;</span>  <span class="token comment">//\u52A0\u5165\u8BE5\u884C</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6267\u884C <code>npm run report</code> \u6253\u5305\u5E76\u751F\u6210 report\uFF0C\u8FD0\u884C <code>npm run report</code> \u540E\uFF0C\u4F1A\u5728 build \u7684\u540C\u65F6\uFF0C\u5728 dist \u76EE\u5F55\u4F1A\u751F\u6210\u4E00\u4E2A report.html\uFF0C\u6253\u5F00\u540E\u53EF\u770B\u5230\u5404\u6587\u4EF6\u5360\u7528\u5927\u5C0F</p></li></ol><h3 id="purgecss" tabindex="-1"><a class="header-anchor" href="#purgecss" aria-hidden="true">#</a> PurgeCSS</h3><p>\u5728 vue \u9879\u76EE\u4E2D\u4F7F\u7528 \u5220\u9664\u672A\u4F7F\u7528\u7684 CSS \u4EE3\u7801</p><ul><li><a href="#PurgeCSS%E5%88%A0%E9%99%A4%E6%9C%AA%E4%BD%BF%E7%94%A8%E7%9A%84CSS%E4%BB%A3%E7%A0%81">1. PurgeCSS \u5220\u9664\u672A\u4F7F\u7528\u7684 CSS \u4EE3\u7801</a></li></ul>`,22),v={href:"https://www.purgecss.cn/",target:"_blank",rel:"noopener noreferrer"},m=a(`<ol><li>\u5B89\u88C5</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vue add @fullhuman/purgecss
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5B89\u88C5\u6210\u529F\u540E\u4F1A\u5728\u9879\u76EE\u521B\u5EFA<code>postcss.config.js</code>\u6587\u4EF6</p><ol start="2"><li>postcss.config.js \u6587\u4EF6\u4FEE\u6539</li></ol><ul><li>content \u5B57\u6BB5\uFF0C\u6765\u544A\u8BC9 PurgeCSS \u53BB\u54EA\u91CC\u67E5\u627E\u5C06\u8981\u5BF9\u5E94\u5339\u914D\u7684 class</li><li>whitelist \u5BF9\u4E8E\u4E00\u4E9B\u4F60\u4E0D\u60F3\u8981\u79FB\u9664\u7684 class \u6216\u8005\u67D0\u4E9B\u6807\u7B7E\u4E0A\u5BF9\u5E94\u7684\u6837\u5F0F\u540D\u79F0\uFF0C\u4F60\u53EF\u4EE5\u5B83\u4EEC\u52A0\u5230\u767D\u540D\u5355\u5B57\u6BB5\u4E2D\u3002\u4F60\u81F3\u5C11\u9700\u8981\u6DFB\u52A0 html \u548C body \u6807\u7B7E\u4EE5\u53CA\u4EFB\u610F\u7684\u52A8\u6001 class \u6837\u5F0F\u540D\u79F0\u5230\u767D\u540D\u5355\u914D\u7F6E\u5B57\u6BB5\u4E2D</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">IN_PRODUCTION</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;production&#39;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token constant">IN_PRODUCTION</span> <span class="token operator">&amp;&amp;</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@fullhuman/postcss-purgecss&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./public/**/*.html</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
          <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./src/**/*.vue</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
          <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./layouts/**/*.vue</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
          <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./components/**/*.vue</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
          <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./views/**/*.vue</span><span class="token template-punctuation string">\`</span></span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">whitelist</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;html&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;body&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token function">defaultExtractor</span><span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> contentWithoutStyleBlocks <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>
            <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;style[^]+?&lt;\\/style&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">,</span>
            <span class="token string">&#39;&#39;</span>
          <span class="token punctuation">)</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            contentWithoutStyleBlocks<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>
              <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[A-Za-z0-9-_/:]*[A-Za-z0-9-_/]+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
            <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">safelist</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">-(leave|enter|appear)(|-(to|from|active))$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?!(|.*?:)cursor-move).+-move$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^router-link(|-exact)-active$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">data-v-.*</span><span class="token regex-delimiter">/</span></span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u52A0\u8F7D\u8D44\u6E90\u7684\u4F18\u5148\u7EA7" tabindex="-1"><a class="header-anchor" href="#\u52A0\u8F7D\u8D44\u6E90\u7684\u4F18\u5148\u7EA7" aria-hidden="true">#</a> \u52A0\u8F7D\u8D44\u6E90\u7684\u4F18\u5148\u7EA7</h2><p>\u4F8B\u5982\u9996\u5C4F\uFF0C\u53EA\u9700\u8981\u4F18\u5148\u6E32\u67D3\u53EF\u89C6\u533A\u7684\u5185\u5BB9\uFF0C\u975E\u5173\u952E\u7684\u5EF6\u540E\u52A0\u8F7D\u5373\u53EF\u3002 \u5173\u952E\u6570\u636E\u53EF\u4EE5\u8BA9 native \u8FDB\u884C\u9884\u8BF7\u6C42\uFF0C\u518D\u5C06\u5173\u952E\u6570\u636E\u76F4\u63A5\u4EA4\u7ED9 h5 \u5373\u53EF</p><h2 id="\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#\u7F13\u5B58" aria-hidden="true">#</a> \u7F13\u5B58</h2><p>http \u7F13\u5B58 \u672C\u5730\u7F13\u5B58\u3002\u4F8B\u5982 native \u5BF9\u56FE\u7247\u8D44\u6E90\u8FDB\u884C\u7F13\u5B58 \u63A5\u53E3\u7F13\u5B58\u3002</p><h2 id="\u52A0\u8F7D\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u52A0\u8F7D\u65B9\u5F0F" aria-hidden="true">#</a> \u52A0\u8F7D\u65B9\u5F0F</h2><p>\u61D2\u52A0\u8F7D</p><p>\u9AA8\u67B6\u5C4F \u4E86\u89E3\u4E00\u4E0B\u3002</p><h2 id="\u9884\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u9884\u52A0\u8F7D" aria-hidden="true">#</a> \u9884\u52A0\u8F7D</h2><p>NSR \u4E86\u89E3\u4E00\u4E0B\u3002</p><h2 id="\u7F13\u5B58\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u7F13\u5B58\u52A0\u8F7D" aria-hidden="true">#</a> \u7F13\u5B58\u52A0\u8F7D</h2><p>CSR \u4E86\u89E3\u4E00\u4E0B</p><h2 id="\u79BB\u7EBF\u5305" tabindex="-1"><a class="header-anchor" href="#\u79BB\u7EBF\u5305" aria-hidden="true">#</a> \u79BB\u7EBF\u5305</h2><h2 id="webview-\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#webview-\u4F18\u5316" aria-hidden="true">#</a> webview \u4F18\u5316</h2><p>\u5E76\u884C\u521D\u59CB\u5316</p><p>\u6240\u8C13\u5E76\u884C\u521D\u59CB\u5316\uFF0C\u662F\u6307\u7528\u6237\u5728\u8FDB\u5165 App \u65F6\uFF0C\u7CFB\u7EDF\u5C31\u521B\u5EFA WebView \u548C\u52A0\u8F7D\u6A21\u677F\uFF0C\u8FD9\u6837 WebView \u521D\u59CB\u5316\u548C App \u542F\u52A8\u5C31\u53EF\u4EE5\u5E76\u884C\u8FDB\u884C\u4E86\uFF0C\u8FD9\u5927\u5927\u51CF\u5C11\u4E86\u7528\u6237\u7B49\u5F85\u65F6\u95F4\u3002</p><p>\u8D44\u6E90\u9884\u52A0\u8F7D\u3002\u8D44\u6E90\u9884\u52A0\u8F7D\uFF0C\u662F\u6307\u63D0\u524D\u5728\u521D\u59CB\u5316\u7684 WebView \u91CC\u9762\u653E\u7F6E\u4E00\u4E2A\u9759\u6001\u8D44\u6E90\u5217\u8868\uFF0C\u540E\u7EED\u52A0\u8F7D\u4E1C\u897F\u65F6\uFF0C\u7531\u4E8E\u8FD9\u90E8\u5206\u8D44\u6E90\u5DF2\u7ECF\u88AB\u5F3A\u7F13\u5B58\u4E86\uFF0C\u9875\u9762\u663E\u793A\u901F\u5EA6\u4F1A\u66F4\u5FEB\u3002\u90A3\u4E48\uFF0C\u8981\u9884\u52A0\u8F7D\u7684\u9759\u6001\u8D44\u6E90\u4E00\u822C\u53EF\u4EE5\u653E\uFF1A</p><p>\u4E00\u5B9A\u65F6\u95F4\u5185\u4E0D\u53D8\u7684\u5916\u94FE\uFF1B \u4E00\u4E9B\u57FA\u7840\u6846\u67B6\uFF0C\u591A\u7AEF\u9002\u914D\u7684 JS\uFF08\u5982 adapter.js\uFF09\uFF0C\u6027\u80FD\u7EDF\u8BA1\u7684 SDK \u6216\u8005\u7B2C\u4E09\u65B9\u5E93\uFF08\u5982 react/vue.js\uFF09\uFF1B \u57FA\u7840\u5E03\u5C40\u7684 CSS \u5982 base.css\u3002</p><p>\u5176\u5B83\u3002\u5982\u4F55 native \u63D0\u4F9B\u4E86\u63A5\u53E3\u8BF7\u6C42\u7684 API\uFF0C\u90A3\u9488\u5BF9\u63A5\u53E3\u8BF7\u6C42\u4E5F\u53EF\u505A\u4F18\u5316\u3002</p><p>ps\uFF1A \u522B\u5C0F\u77A7 webview \u8FD9\u4E9B\uFF0C\u505A\u597D\u4E86\u80FD\u7ED9\u4F60\u51CF\u5C11 100-200ms \u7684\u65F6\u95F4\u3002</p><p>\u5C0F\u7ED3\u4E00\u4E0B</p><p>APP \u542F\u52A8\u9636\u6BB5\u7684\u4F18\u5316\u65B9\u6848</p><p>webview \u4F18\u5316</p><p>\u9875\u9762\u767D\u5C4F\u9636\u6BB5\u7684\u4F18\u5316\u65B9\u6848</p><p>\u79BB\u7EBF\u5316\u8BBE\u8BA1\uFF0C\u4F8B\u5982\u79BB\u7EBF\u5305 \u9AA8\u67B6\u5C4F SSR NSR</p><p>\u9996\u5C4F\u6E32\u67D3\u9636\u6BB5\u7684\u4F18\u5316\u65B9\u6848</p><h3 id="\u4F18\u5316\u8BF7\u6C42\u6570\u91CF" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316\u8BF7\u6C42\u6570\u91CF" aria-hidden="true">#</a> \u4F18\u5316\u8BF7\u6C42\u6570\u91CF</h3><h4 id="\u4E09\u3001\u9879\u76EE\u56FE\u7247\u61D2\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u4E09\u3001\u9879\u76EE\u56FE\u7247\u61D2\u52A0\u8F7D" aria-hidden="true">#</a> \u4E09\u3001\u9879\u76EE\u56FE\u7247\u61D2\u52A0\u8F7D</h4>`,33),g={href:"https://www.npmjs.com/package/vue-lazyload",target:"_blank",rel:"noopener noreferrer"},b=a(`<h6 id="\u5B89\u88C5\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u7EC4\u4EF6" aria-hidden="true">#</a> \u5B89\u88C5\u7EC4\u4EF6</h6><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yarn add vue-lazyload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h6 id="main-js-\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#main-js-\u8BBE\u7F6E" aria-hidden="true">#</a> main.js \u8BBE\u7F6E</h6><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> VueLazyload <span class="token keyword">from</span> <span class="token string">&#39;vue-lazyload&#39;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueLazyload<span class="token punctuation">)</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueLazyload<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">preLoad</span><span class="token operator">:</span> <span class="token number">1.3</span><span class="token punctuation">,</span>
  <span class="token literal-property property">error</span><span class="token operator">:</span> <span class="token string">&#39;dist/error.png&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token string">&#39;dist/loading.gif&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">attempt</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="\u7CFB\u7EDF\u4E2D\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u7CFB\u7EDF\u4E2D\u4F7F\u7528" aria-hidden="true">#</a> \u7CFB\u7EDF\u4E2D\u4F7F\u7528</h6><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">v-lazy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img.src<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="css-sprites-\u7CBE\u7075\u56FE" tabindex="-1"><a class="header-anchor" href="#css-sprites-\u7CBE\u7075\u56FE" aria-hidden="true">#</a> CSS Sprites \u7CBE\u7075\u56FE</h4><h4 id="\u4F7F\u7528\u5B57\u4F53\u56FE\u6807" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u5B57\u4F53\u56FE\u6807" aria-hidden="true">#</a> \u4F7F\u7528\u5B57\u4F53\u56FE\u6807</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u5728 vue \u9879\u76EE\u4E2D\u4F7F\u7528</p></div><ol><li>\u77E2\u91CF\u56FE\u6807\u4E0B\u8F7D</li><li>\u89E3\u538B\u540E\u5C06\u5B57\u4F53\u56FE\u6807\u6587\u4EF6\u5939\u653E\u5230\u9879\u76EE <code>assets/iconfont</code> \u6587\u4EF6\u5939\u4E0B</li><li>\u5728 <code>main.js</code> \u4E2D\u5F15\u5165 <code>import &#39;./assets/iconfont/index.css&#39;</code></li><li>\u5728\u9879\u76EE\u4E2D\u4F7F\u7528<code>&lt;span class=&quot;icon-bookmark&quot;&gt;&lt;/span&gt;</code></li></ol><h4 id="\u5408\u5E76-js-\u548C-css-\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5408\u5E76-js-\u548C-css-\u6587\u4EF6" aria-hidden="true">#</a> \u5408\u5E76 JS \u548C CSS \u6587\u4EF6</h4><h4 id="\u5229\u7528\u6D4F\u89C8\u5668\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#\u5229\u7528\u6D4F\u89C8\u5668\u7F13\u5B58" aria-hidden="true">#</a> \u5229\u7528\u6D4F\u89C8\u5668\u7F13\u5B58</h4><p>\u63A5\u53E3\u9884\u52A0\u8F7D</p><p>DOM \u6027\u80FD\u4F18\u5316</p><p>\u957F\u5217\u8868\u4F18\u5316\u3002 memo\u3001usememo \u51CF\u5C11 Render \u6B21\u6570 js \u8BA1\u7B97\u4F18\u5316</p><p>\u6027\u80FD\u5E73\u53F0 https://juejin.cn/post/6971359910525141005#heading-12</p><h2 id="\u6253\u5305\u5F00\u542F-gzip-\u538B\u7F29" tabindex="-1"><a class="header-anchor" href="#\u6253\u5305\u5F00\u542F-gzip-\u538B\u7F29" aria-hidden="true">#</a> \u6253\u5305\u5F00\u542F gzip \u538B\u7F29</h2><h3 id="\u5B89\u88C5\u4F9D\u8D56\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u4F9D\u8D56\u6587\u4EF6" aria-hidden="true">#</a> \u5B89\u88C5\u4F9D\u8D56\u6587\u4EF6</h3><div class="language-javaScript ext-javaScript line-numbers-mode"><pre class="language-javaScript"><code>cnpm install webpack@4.46.0 terser-webpack-plugin@4.2.3 compression-webpack-plugin@6.1.1 -D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="vue-config-js-\u8BBE\u7F6E-gzip" tabindex="-1"><a class="header-anchor" href="#vue-config-js-\u8BBE\u7F6E-gzip" aria-hidden="true">#</a> vue.config.js \u8BBE\u7F6E gzip</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// gzip \u538B\u7F29</span>
<span class="token keyword">const</span> CompressionPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;compression-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> productionGzipExtensions <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(js|css|json|txt|ico|svg)(\\?.*)?$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>
<span class="token comment">// \u5904\u7406 js \u7684\u538B\u7F29\u548C\u6DF7\u6DC6</span>
<span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;terser-webpack-plugin&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token parameter">dir</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> dir<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">/*
    Vue-cli3:
    Crashed when using Webpack \`import()\` #2463
    https://github.com/vuejs/vue-cli/issues/2463
   */</span>
  <span class="token comment">// \u5982\u679C\u4F60\u4E0D\u9700\u8981\u751F\u4EA7\u73AF\u5883\u7684 source map\uFF0C\u53EF\u4EE5\u5C06\u5176\u8BBE\u7F6E\u4E3A false \u4EE5\u52A0\u901F\u751F\u4EA7\u73AF\u5883\u6784\u5EFA\u3002</span>
  <span class="token literal-property property">productionSourceMap</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token function-variable function">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//\u751F\u4EA7\u73AF\u5883\u53D6\u6D88 console.log</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      config<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span>minimizer<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>terserOptions<span class="token punctuation">.</span>compress<span class="token punctuation">.</span>drop_console <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u5904\u7406 js \u7684\u538B\u7F29\u548C\u6DF7\u6DC6</span>
    config<span class="token punctuation">.</span>optimization <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">minimize</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js(\\?.*)?$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span> <span class="token comment">// \u5339\u914D\u53C2\u4E0E\u538B\u7F29\u7684\u6587\u4EF6</span>
          <span class="token literal-property property">parallel</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// \u4F7F\u7528\u591A\u8FDB\u7A0B\u5E76\u53D1\u8FD0\u884C</span>
          <span class="token literal-property property">terserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// Terser \u538B\u7F29\u914D\u7F6E</span>
            <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">comments</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">extractComments</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// \u5C06\u6CE8\u91CA\u5265\u79BB\u5230\u5355\u72EC\u7684\u6587\u4EF6\u4E2D</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u538B\u7F29</span>
      config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#39;compressionPlugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[path].gz[query]&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">algorithm</span><span class="token operator">:</span> <span class="token string">&#39;gzip&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> productionGzipExtensions<span class="token punctuation">,</span>
          <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
          <span class="token literal-property property">minRatio</span><span class="token operator">:</span> <span class="token number">0.8</span>
          <span class="token comment">// deleteOriginalAssets: true</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    config<span class="token punctuation">.</span>resolve<span class="token punctuation">.</span>alias
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;@$&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;@api&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/api&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;@assets&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/assets&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;@comp&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/components&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;@views&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/views&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;@layout&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/layout&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;@static&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/static&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">loaderOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">less</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">modifyVars</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">/* less \u53D8\u91CF\u8986\u76D6\uFF0C\u7528\u4E8E\u81EA\u5B9A\u4E49 ant design \u4E3B\u9898 */</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">javascriptEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">sass</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">@import &quot;@/assets/sass/tk-scss-variable.scss&quot;;</span><span class="token template-punctuation string">\`</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">3099</span><span class="token punctuation">,</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;/bh-sim&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:9099&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">lintOnSave</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="nginx-\u5F00\u542F-gzip" tabindex="-1"><a class="header-anchor" href="#nginx-\u5F00\u542F-gzip" aria-hidden="true">#</a> nginx \u5F00\u542F gzip</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> server {
	#\u7AEF\u53E3\u53F7\uFF0C\u4E0D\u540C\u7684\u7A0B\u5E8F\uFF0C\u590D\u5236\u65F6\uFF0C\u9700\u8981\u4FEE\u6539\u5176\u7AEF\u53E3\u53F7
        listen      5099;
	#\u670D\u52A1\u5668\u5730\u5740\uFF0C\u53EF\u4EE5\u4E3AIP\u5730\u5740\uFF0C\u672C\u5730\u7A0B\u5E8F\u65F6\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u4E3Alocalhost
        server_name  localhost;
        client_max_body_size 2G;

    # \u5F00\u542Fgzip
        gzip on;
    # \u542F\u7528gzip\u538B\u7F29\u7684\u6700\u5C0F\u6587\u4EF6\uFF0C\u5C0F\u4E8E\u8BBE\u7F6E\u503C\u7684\u6587\u4EF6\u5C06\u4E0D\u4F1A\u538B\u7F29
        gzip_min_length 1k;
    # gzip \u538B\u7F29\u7EA7\u522B\uFF0C1-9\uFF0C\u6570\u5B57\u8D8A\u5927\u538B\u7F29\u7684\u8D8A\u597D\uFF0C\u4E5F\u8D8A\u5360\u7528CPU\u65F6\u95F4\uFF0C\u540E\u9762\u4F1A\u6709\u8BE6\u7EC6\u8BF4\u660E
        gzip_comp_level 1;
    # \u8FDB\u884C\u538B\u7F29\u7684\u6587\u4EF6\u7C7B\u578B\u3002javascript\u6709\u591A\u79CD\u5F62\u5F0F\u3002\u5176\u4E2D\u7684\u503C\u53EF\u4EE5\u5728 mime.types \u6587\u4EF6\u4E2D\u627E\u5230\u3002
        gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png application/vnd.ms-fontobject font/ttf font/opentype font/x-woff image/svg+xml;
    # \u662F\u5426\u5728http header\u4E2D\u6DFB\u52A0Vary: Accept-Encoding\uFF0C\u5EFA\u8BAE\u5F00\u542F
        gzip_vary on;
    # \u7981\u7528IE 6 gzip
        gzip_disable &quot;MSIE [1-6]\\.&quot;;
    # \u8BBE\u7F6E\u538B\u7F29\u6240\u9700\u8981\u7684\u7F13\u51B2\u533A\u5927\u5C0F
        gzip_buffers 32 4k;
    # \u8BBE\u7F6Egzip\u538B\u7F29\u9488\u5BF9\u7684HTTP\u534F\u8BAE\u7248\u672C
        gzip_http_version 1.0;

	#\u7A0B\u5E8F\u6240\u5728\u76EE\u5F55
        root D:/workSpace/pack/pack_jar/bh-sim/frontEnd;
        charset utf-8;
            index index.html;

        location / {
            try_files $uri $uri/ /index.html;
        }

        location @rewrites {
            rewrite ^(.+)$ /index.html last;
        }

	#\u7A0B\u5E8F\u6620\u5C04\u5730\u5740\uFF0C\u5C06\u3010tick-ehs\u3011\u6539\u4E3A\u4F60\u7A0B\u5E8F\u540D\u79F0\uFF0C\u5C06\u3010proxy_pass\u3011 \u6539\u4E3A\u4F60\u81EA\u5DF1\u7684\u540E\u53F0\u5730\u5740
        location /bh-sim {
            proxy_pass http://localhost:9099/bh-sim;
            proxy_cookie_path / /bh-sim;
        }
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="javascript-\u5C0F\u6280\u5DE7" tabindex="-1"><a class="header-anchor" href="#javascript-\u5C0F\u6280\u5DE7" aria-hidden="true">#</a> javaScript \u5C0F\u6280\u5DE7</h2><h3 id="\u4F7F\u7528\u6587\u6863\u788E\u7247\u51CF\u5C11-dom-\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u6587\u6863\u788E\u7247\u51CF\u5C11-dom-\u64CD\u4F5C" aria-hidden="true">#</a> \u4F7F\u7528\u6587\u6863\u788E\u7247\u51CF\u5C11 DOM \u64CD\u4F5C</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;list&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u6587\u6863\u788E\u7247</span>
<span class="token comment">// createdocumentfragment()\u65B9\u6CD5\u521B\u5EFA\u4E86\u4E00\u865A\u62DF\u7684\u8282\u70B9\u5BF9\u8C61\uFF0C\u8282\u70B9\u5BF9\u8C61\u5305\u542B\u6240\u6709\u5C5E\u6027\u548C\u65B9\u6CD5\u3002</span>
<span class="token comment">// \u5F53\u4F60\u60F3\u63D0\u53D6\u6587\u6863\u7684\u4E00\u90E8\u5206\uFF0C\u6539\u53D8\uFF0C\u589E\u52A0\uFF0C\u6216\u5220\u9664\u67D0\u4E9B\u5185\u5BB9\u53CA\u63D2\u5165\u5230\u6587\u6863\u672B\u5C3E\u53EF\u4EE5\u4F7F\u7528createDocumentFragment() \u65B9\u6CD5\u3002</span>
<span class="token comment">// \u51CF\u5C11\u4E86\u5BF9Dom\u7684\u64CD\u4F5C</span>
<span class="token keyword">const</span> fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> item <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;li&#39;</span><span class="token punctuation">)</span>
  item<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u9879\u76EE</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
  <span class="token comment">// list.appendChild(item)</span>
  fragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
list<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u83B7\u53D6-url-\u53C2\u6570\u5E76\u8F6C\u6362\u4E3A\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6-url-\u53C2\u6570\u5E76\u8F6C\u6362\u4E3A\u5BF9\u8C61" aria-hidden="true">#</a> \u83B7\u53D6 URL \u53C2\u6570\u5E76\u8F6C\u6362\u4E3A\u5BF9\u8C61</h3><p><strong>\u4E00\u3001\u521B\u5EFA\u51FD\u6570\u5E76\u5BFC\u51FA</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@desc</span> \u83B7\u53D6URL\u4F20\u9012\u53C2\u6570\u5E76\u8F6C\u6362\u4E3A\u5BF9\u8C61
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getQueryParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">const</span> querystring <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[?&amp;][^?&amp;]+=[^?&amp;]+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
  <span class="token keyword">const</span> found <span class="token operator">=</span> querystring<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>found<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    found<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> temp <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;=&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> key <span class="token operator">=</span> temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      <span class="token keyword">let</span> value <span class="token operator">=</span> temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
      result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u4E8C\u3001 \u4F7F\u7528</strong> URL \u4F20\u53C2\uFF1Ahttp://localhost:1222/?name=zhangsan&amp;sex=12</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getQueryParams <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/url.js&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> urlParams <span class="token operator">=</span> <span class="token function">getQueryParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>urlParams<span class="token punctuation">,</span> <span class="token string">&#39;urlParams&#39;</span><span class="token punctuation">)</span> <span class="token comment">// {name: &quot;zhangsan&quot;, sex: &quot;12&quot;}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528-promise-\u52A0\u8F7D\u56FE\u7247" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-promise-\u52A0\u8F7D\u56FE\u7247" aria-hidden="true">#</a> \u4F7F\u7528 Promise \u52A0\u8F7D\u56FE\u7247</h3><p><strong>\u4E00\u3001\u521B\u5EFA\u51FD\u6570</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@desc</span> \u4F7F\u7528 Promise \u52A0\u8F7D\u56FE\u7247
 * <span class="token keyword">@param</span> <span class="token parameter">src</span> \u56FE\u7247\u8DEF\u5F84
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">loadImage</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> error <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u56FE\u7247\u52A0\u8F7D\u5931\u8D25\uFF0Curl\u4E3A:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>src<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
      <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> src
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> promise
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u4E8C\u3001\u4F7F\u7528</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> loadImage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/utlis.js&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;home&#39;</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">&#39;https://image/home.png&#39;</span>
    <span class="token function">loadImage</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&#39;res&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,37);function h(y,f){const e=o("ExternalLinkIcon");return c(),i("div",null,[r,s("p",null,[n("\u5F53\u6253\u5305\u6784\u5EFA\u5E94\u7528\u65F6\uFF0CJavaScript \u5305\u4F1A\u53D8\u5F97\u975E\u5E38\u5927\uFF0C\u5F71\u54CD\u9875\u9762\u52A0\u8F7D\u3002\u5982\u679C\u6211\u4EEC\u80FD\u628A\u4E0D\u540C\u8DEF\u7531\u5BF9\u5E94\u7684\u7EC4\u4EF6\u5206\u5272\u6210\u4E0D\u540C\u7684\u4EE3\u7801\u5757\uFF0C\u7136\u540E\u5F53\u8DEF\u7531\u88AB\u8BBF\u95EE\u7684\u65F6\u5019\u624D\u52A0\u8F7D\u5BF9\u5E94\u7EC4\u4EF6\uFF0C\u8FD9\u6837\u5C31\u66F4\u52A0\u9AD8\u6548\u3002\u66F4\u8BE6\u7EC6\u7684\u53EF\u4EE5\u53C2\u8003"),s("a",u,[n("VueRouter"),t(e)]),n("\u5B98\u7F51\u7684\u7684\u914D\u7F6E\u3002 vue \u4EE3\u7801\u5206\u5272\u7684\u5B9E\u73B0(codesplit)\uFF0C\u505A\u4E86\u4EE3\u7801\u5206\u5272\u540E\uFF0C\u4F1A\u5C06\u4EE3\u7801\u5206\u79BB\u5230\u4E0D\u540C\u7684 bundle \u4E2D\uFF0C\u7136\u540E\u8FDB\u884C\u6309\u9700\u52A0\u8F7D\u8FD9\u4E9B\u6587\u4EF6\uFF0C\u80FD\u591F\u63D0\u9AD8\u9875\u9762\u9996\u6B21\u8FDB\u5165\u7684\u901F\u5EA6\uFF0C\u7F51\u7AD9\u6027\u80FD\u4E5F\u80FD\u591F\u5F97\u5230\u63D0\u5347 "),d]),k,s("p",null,[n("\u5728\u63D0\u9AD8 web \u6027\u80FD\u7684\u65B9\u6CD5\u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7\u79FB\u9664\u4E0D\u9700\u8981\u7684 js \u548C css \u8FBE\u5230\u6027\u80FD\u63D0\u9AD8\u3002 PurgeCSS \u662F\u4E00\u4E2A\u7528\u6765\u5220\u9664\u672A\u4F7F\u7528\u7684 CSS \u4EE3\u7801\u7684\u5DE5\u5177 "),s("a",v,[n("PurgeCSS"),t(e)])]),m,s("p",null,[n("\u4E00\u6B21\u6027\u52A0\u8F7D\u5927\u91CF\u56FE\u7247\u7684\u65F6\u5019\uFF0C\u5BB9\u6613\u9020\u6210\u7F51\u7EDC\u8D44\u6E90\u6D6A\u8D39\uFF0C\u540C\u65F6\u4E5F\u53EF\u80FD\u9020\u6210\u670D\u52A1\u5668\u5361\u987F\u3002\u5F53\u6D4F\u89C8\u5668\u6EDA\u52A8\u7684\u65F6\u5019\uFF0C\u5BF9\u6EDA\u52A8\u4E8B\u4EF6\u8FDB\u884C\u76D1\u542C\uFF0C\u5F53\u56FE\u7247\u8DDD\u79BB\u89C6\u53E3\u7684\u9876\u90E8\u5927\u4E8E\u6D4F\u89C8\u5668\u53EF\u89C1\u89C6\u53E3\u7684\u5BBD\u5EA6\u7684\u65F6\uFF0C\u56FE\u7247\u4E0D\u52A0\u8F7D\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u51CF\u5C11\u7F51\u7EDC\u8D44\u6E90\u7684\u6D6A\u8D39\u3002\u91C7\u7528 "),s("a",g,[n("vue-lazyload"),t(e)]),n("\u7EC4\u4EF6\u8FDB\u884C\u5B9E\u73B0\u3002")]),b])}const w=p(l,[["render",h],["__file","web\u7A0B\u5E8F\u6027\u80FD\u4F18\u5316.html.vue"]]);export{w as default};
