import{_ as t,r as p,o as c,c as l,a as n,b as s,d as o,e as a}from"./app.b74d2e03.js";const i={},r=a('<h1 id="purgecss" tabindex="-1"><a class="header-anchor" href="#purgecss" aria-hidden="true">#</a> PurgeCSS</h1><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><strong>\u914D\u7F6E\u4F5C\u7528\uFF1A\u5728 vue \u9879\u76EE\u4E2D\u4F7F\u7528\uFF0C\u5220\u9664\u672A\u4F7F\u7528\u7684 CSS \u4EE3\u7801\uFF0C\u8FBE\u5230\u51CF\u5C11\u9879\u76EE\u6253\u5305\u538B\u7F29\u7684\u4F5C\u7528</strong></p></div><ul><li><a href="#PurgeCSS%E5%88%A0%E9%99%A4%E6%9C%AA%E4%BD%BF%E7%94%A8%E7%9A%84CSS%E4%BB%A3%E7%A0%81">1. PurgeCSS \u5220\u9664\u672A\u4F7F\u7528\u7684 CSS \u4EE3\u7801</a></li></ul>',3),u={href:"https://www.purgecss.cn/",target:"_blank",rel:"noopener noreferrer"},d=a(`<h2 id="\u5B89\u88C5\u9879\u76EE\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u9879\u76EE\u4F9D\u8D56" aria-hidden="true">#</a> \u5B89\u88C5\u9879\u76EE\u4F9D\u8D56</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vue add @fullhuman/purgecss
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5B89\u88C5\u6210\u529F\u540E\u4F1A\u5728\u9879\u76EE\u521B\u5EFA<code>postcss.config.js</code>\u6587\u4EF6</p><h2 id="postcss-config-js-\u6587\u4EF6\u4FEE\u6539" tabindex="-1"><a class="header-anchor" href="#postcss-config-js-\u6587\u4EF6\u4FEE\u6539" aria-hidden="true">#</a> postcss.config.js \u6587\u4EF6\u4FEE\u6539</h2><ul><li>content \u5B57\u6BB5\uFF0C\u6765\u544A\u8BC9 PurgeCSS \u53BB\u54EA\u91CC\u67E5\u627E\u5C06\u8981\u5BF9\u5E94\u5339\u914D\u7684 class</li><li>whitelist \u5BF9\u4E8E\u4E00\u4E9B\u4F60\u4E0D\u60F3\u8981\u79FB\u9664\u7684 class \u6216\u8005\u67D0\u4E9B\u6807\u7B7E\u4E0A\u5BF9\u5E94\u7684\u6837\u5F0F\u540D\u79F0\uFF0C\u4F60\u53EF\u4EE5\u5B83\u4EEC\u52A0\u5230\u767D\u540D\u5355\u5B57\u6BB5\u4E2D\u3002\u4F60\u81F3\u5C11\u9700\u8981\u6DFB\u52A0 html \u548C body \u6807\u7B7E\u4EE5\u53CA\u4EFB\u610F\u7684\u52A8\u6001 class \u6837\u5F0F\u540D\u79F0\u5230\u767D\u540D\u5355\u914D\u7F6E\u5B57\u6BB5\u4E2D</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">IN_PRODUCTION</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;production&#39;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token constant">IN_PRODUCTION</span> <span class="token operator">&amp;&amp;</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@fullhuman/postcss-purgecss&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./public/**/*.html</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
          <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./src/**/*.vue</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
          <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./layouts/**/*.vue</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
          <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./components/**/*.vue</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
          <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./pages/**/*.vue</span><span class="token template-punctuation string">\`</span></span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">whitelist</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;html&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;body&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token function">defaultExtractor</span><span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> contentWithoutStyleBlocks <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>
            <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;style[^]+?&lt;\\/style&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">,</span>
            <span class="token string">&#39;&#39;</span>
          <span class="token punctuation">)</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            contentWithoutStyleBlocks<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>
              <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[A-Za-z0-9-_/:]*[A-Za-z0-9-_/]+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
            <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">safelist</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">-(leave|enter|appear)(|-(to|from|active))$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?!(|.*?:)cursor-move).+-move$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^router-link(|-exact)-active$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">data-v-.*</span><span class="token regex-delimiter">/</span></span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6);function k(g,v){const e=p("ExternalLinkIcon");return c(),l("div",null,[r,n("p",null,[s("\u5728\u63D0\u9AD8 web \u6027\u80FD\u7684\u65B9\u6CD5\u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7\u79FB\u9664\u4E0D\u9700\u8981\u7684 js \u548C css \u8FBE\u5230\u6027\u80FD\u63D0\u9AD8\u3002 PurgeCSS \u662F\u4E00\u4E2A\u7528\u6765\u5220\u9664\u672A\u4F7F\u7528\u7684 CSS \u4EE3\u7801\u7684\u5DE5\u5177 "),n("a",u,[s("PurgeCSS"),o(e)])]),d])}const x=t(i,[["render",k],["__file","purgeCSS.html.vue"]]);export{x as default};
